{
  "uid" : "8afa4f11ba4ff423",
  "name" : "Record a vaccine with nhs number [12-9437540233-ALBERT HOUSE-Hospital hub for staff and patients-yes-today-15-yes-yes-today-7-RANDY FOGDEN-8/6/1961-10 ASHVILLE TERRACE, MANCHESTER, M40 9WG-COVID-19-AUTOMATION-SJ1-19/10/2026]",
  "fullName" : "/app/features/record_a_vaccine_for_patient_with_nhs_number.feature:Record a vaccine with nhs number",
  "historyId" : "04d2ff1a4bc22d23d9818fc9738c679b",
  "time" : {
    "start" : 1731674451952,
    "stop" : 1731674470426,
    "duration" : 18474
  },
  "status" : "failed",
  "statusMessage" : "TypeError: can only concatenate str (not \"int\") to str",
  "statusTrace" : "fixturefunc = <function step_choose_vaccine_and_vaccine_type at 0x7f176ab7ee80>\nrequest = <FixtureRequest for <Function test_record_a_vaccine_with_nhs_number[12-9437540233-ALBERT HOUSE-Hospital hub for staff ...15-yes-yes-today-7-RANDY FOGDEN-8/6/1961-10 ASHVILLE TERRACE, MANCHESTER, M40 9WG-COVID-19-AUTOMATION-SJ1-19/10/2026]>>\nkwargs = {'batch_expiry_date': '19/10/2026', 'batch_number': 'AUTOMATION-SJ1', 'chosen_vaccine': 'COVID-19', 'shared_data': {'b...tch_number': 'AUTOMATION-SJ1', 'care_model': 'Hospital hub for staff and patients', 'chosen_vaccine': 'COVID-19', ...}}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n.tox/py311/lib/python3.11/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py:75: in step_choose_vaccine_and_vaccine_type\n    immunisation_history_records_count_before_vaccination = click_on_patient_search_result_and_click_choose_vaccine(shared_data['patient_name'], chosen_vaccine)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nname = 'RANDY FOGDEN', vaccine = 'COVID-19'\n\n    def click_on_patient_search_result_and_click_choose_vaccine(name, vaccine):\n        wait_for_element_to_disappear(PAGE_LOADING_ELEMENT)\n        immunisation_history_records = get_count_of_immunisation_history_records(vaccine)\n>       attach_screenshot(\"immunisation_history_records_count_is_\" + immunisation_history_records)\nE       TypeError: can only concatenate str (not \"int\") to str\n\nconftest.py:164: TypeError",
  "flaky" : false,
  "newFailed" : false,
  "newBroken" : false,
  "newPassed" : false,
  "retriesCount" : 0,
  "retriesStatusChange" : false,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "TypeError: can only concatenate str (not \"int\") to str",
    "statusTrace" : "fixturefunc = <function step_choose_vaccine_and_vaccine_type at 0x7f176ab7ee80>\nrequest = <FixtureRequest for <Function test_record_a_vaccine_with_nhs_number[12-9437540233-ALBERT HOUSE-Hospital hub for staff ...15-yes-yes-today-7-RANDY FOGDEN-8/6/1961-10 ASHVILLE TERRACE, MANCHESTER, M40 9WG-COVID-19-AUTOMATION-SJ1-19/10/2026]>>\nkwargs = {'batch_expiry_date': '19/10/2026', 'batch_number': 'AUTOMATION-SJ1', 'chosen_vaccine': 'COVID-19', 'shared_data': {'b...tch_number': 'AUTOMATION-SJ1', 'care_model': 'Hospital hub for staff and patients', 'chosen_vaccine': 'COVID-19', ...}}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n.tox/py311/lib/python3.11/site-packages/_pytest/fixtures.py:898: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py:75: in step_choose_vaccine_and_vaccine_type\n    immunisation_history_records_count_before_vaccination = click_on_patient_search_result_and_click_choose_vaccine(shared_data['patient_name'], chosen_vaccine)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nname = 'RANDY FOGDEN', vaccine = 'COVID-19'\n\n    def click_on_patient_search_result_and_click_choose_vaccine(name, vaccine):\n        wait_for_element_to_disappear(PAGE_LOADING_ELEMENT)\n        immunisation_history_records = get_count_of_immunisation_history_records(vaccine)\n>       attach_screenshot(\"immunisation_history_records_count_is_\" + immunisation_history_records)\nE       TypeError: can only concatenate str (not \"int\") to str\n\nconftest.py:164: TypeError",
    "steps" : [ {
      "name" : "Given I login to RAVS and set vaccinator details with ALBERT HOUSE and Hospital hub for staff and patients and get patient details for 9437540233 with option 12 and choose to vaccinate with vaccine details as COVID-19, AUTOMATION-SJ1 with 19/10/2026",
      "time" : {
        "start" : 1731674451953,
        "stop" : 1731674456203,
        "duration" : 4250
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "e9033122b5417692",
        "name" : "qa_edge_131.0.2903.48_clicked_vaccines_nav_link.png",
        "source" : "e9033122b5417692.png",
        "type" : "image/png",
        "size" : 46598
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I search for a patient with the NHS number in the find a patient screen",
      "time" : {
        "start" : 1731674456203,
        "stop" : 1731674462004,
        "duration" : 5801
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "b1c0bcc223e2646b",
        "name" : "qa_edge_131.0.2903.48_entered_nhs_number_as9437540233_and_clicked_search_for_patient_button.png",
        "source" : "b1c0bcc223e2646b.png",
        "type" : "image/png",
        "size" : 49141
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I open the patient record by clicking on patient RANDY FOGDEN",
      "time" : {
        "start" : 1731674462005,
        "stop" : 1731674464310,
        "duration" : 2305
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "926315e6d7e13a7d",
        "name" : "qa_edge_131.0.2903.48_before_clicking_patient_name.png",
        "source" : "926315e6d7e13a7d.png",
        "type" : "image/png",
        "size" : 49141
      }, {
        "uid" : "75ca68fc8b0f8d5f",
        "name" : "qa_edge_131.0.2903.48_before_clicking_patient_name.png",
        "source" : "75ca68fc8b0f8d5f.png",
        "type" : "image/png",
        "size" : 55156
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "When I click choose vaccine button and choose the COVID-19, AUTOMATION-SJ1 with 19/10/2026 and click continue",
      "time" : {
        "start" : 1731674464310,
        "stop" : 1731674470426,
        "duration" : 6116
      },
      "status" : "failed",
      "statusMessage" : "can only concatenate str (not \"int\") to str",
      "statusTrace" : "TypeError: can only concatenate str (not \"int\") to str\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ {
      "uid" : "ca3243dec7bb7026",
      "name" : "log",
      "source" : "ca3243dec7bb7026.txt",
      "type" : "text/plain",
      "size" : 3794
    } ],
    "parameters" : [ ],
    "stepsCount" : 4,
    "attachmentsCount" : 5,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "host",
    "value" : "7f90a3882da0"
  }, {
    "name" : "thread",
    "value" : "1104-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest-bdd"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "feature",
    "value" : "Record vaccine"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "address",
    "value" : "10 ASHVILLE TERRACE, MANCHESTER, M40 9WG"
  }, {
    "name" : "assess_date",
    "value" : "today-15"
  }, {
    "name" : "batch_expiry_date",
    "value" : "19/10/2026"
  }, {
    "name" : "batch_number",
    "value" : "AUTOMATION-SJ1"
  }, {
    "name" : "care_model",
    "value" : "Hospital hub for staff and patients"
  }, {
    "name" : "chosen_vaccine",
    "value" : "COVID-19"
  }, {
    "name" : "consent",
    "value" : "yes"
  }, {
    "name" : "dob",
    "value" : "8/6/1961"
  }, {
    "name" : "eligibility",
    "value" : "yes"
  }, {
    "name" : "index",
    "value" : "12"
  }, {
    "name" : "name",
    "value" : "RANDY FOGDEN"
  }, {
    "name" : "nhs_number",
    "value" : "9437540233"
  }, {
    "name" : "site",
    "value" : "ALBERT HOUSE"
  }, {
    "name" : "vaccination",
    "value" : "yes"
  }, {
    "name" : "vaccination_date",
    "value" : "today-7"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ ]
  },
  "source" : "8afa4f11ba4ff423.json",
  "parameterValues" : [ "10 ASHVILLE TERRACE, MANCHESTER, M40 9WG", "today-15", "19/10/2026", "AUTOMATION-SJ1", "Hospital hub for staff and patients", "COVID-19", "yes", "8/6/1961", "yes", "12", "RANDY FOGDEN", "9437540233", "ALBERT HOUSE", "yes", "today-7" ]
}