{
  "uid" : "c76ae9890c53173c",
  "name" : "Record a vaccine with nhs number [11-9437541817-BIRCH HOUSE-Vaccination Centre-yes-today-3-yes-yes-today-1-FLORINDA DUNNER-27/3/1957-32 HOLLAND ROAD, MANCHESTER, M8 4NP-COVID-19-Comirnaty 10 Omicron XBB.1.5-SDYY2-18D-19/10/2026]",
  "fullName" : "/app/features/record_a_vaccine_for_patient_with_nhs_number.feature:Record a vaccine with nhs number",
  "historyId" : "ea85e77fe0ff05ba644ef75c083e36a1",
  "time" : {
    "start" : 1725010184293,
    "stop" : 1725011957666,
    "duration" : 1773373
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: assert None == 'FLORINDA DUNNER'\n +  where None = get_patient_name_value()",
  "statusTrace" : "fixturefunc = <function step_see_patient_details_on_check_and_confirm_screen at 0x7fac414d0540>\nrequest = <FixtureRequest for <Function test_record_a_vaccine_with_nhs_number[11-9437541817-BIRCH HOUSE-Vaccination Centre-yes-t...INDA DUNNER-27/3/1957-32 HOLLAND ROAD, MANCHESTER, M8 4NP-COVID-19-Comirnaty 10 Omicron XBB.1.5-SDYY2-18D-19/10/2026]>>\nkwargs = {'address': '32 HOLLAND ROAD, MANCHESTER, M8 4NP', 'dob': '27/3/1957', 'name': 'FLORINDA DUNNER', 'shared_data': {'ass...h_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination centre open to the public', ...}}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n.tox/py311/lib/python3.11/site-packages/_pytest/fixtures.py:897: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nshared_data = {'assessment_comments': 'Assessment comments 27/08/2024FLORINDA DUNNER', 'batch_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination centre open to the public', ...}\nname = 'FLORINDA DUNNER', dob = '27/3/1957'\naddress = '32 HOLLAND ROAD, MANCHESTER, M8 4NP'\n\n    @then(parse(\"I need to be able to see the patient {name}, {dob}, {address} and vaccination details on the check and confirm screen\"))\n    def step_see_patient_details_on_check_and_confirm_screen(shared_data, name, dob, address):\n        if shared_data[\"vaccinated_decision\"].lower() == \"Yes\".lower() and shared_data[\"consent_decision\"].lower() == \"Yes\".lower() and shared_data[\"eligibility_assessment_outcome\"].lower() == \"Give vaccine\".lower():\n            attach_screenshot(\"check_and_confirm_screen_before_assertion\")\n>           assert get_patient_name_value() == shared_data[\"patient_name\"]\nE           AssertionError: assert None == 'FLORINDA DUNNER'\nE            +  where None = get_patient_name_value()\n\ntests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py:123: AssertionError",
  "flaky" : false,
  "newFailed" : false,
  "newBroken" : false,
  "newPassed" : false,
  "retriesCount" : 0,
  "retriesStatusChange" : false,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: assert None == 'FLORINDA DUNNER'\n +  where None = get_patient_name_value()",
    "statusTrace" : "fixturefunc = <function step_see_patient_details_on_check_and_confirm_screen at 0x7fac414d0540>\nrequest = <FixtureRequest for <Function test_record_a_vaccine_with_nhs_number[11-9437541817-BIRCH HOUSE-Vaccination Centre-yes-t...INDA DUNNER-27/3/1957-32 HOLLAND ROAD, MANCHESTER, M8 4NP-COVID-19-Comirnaty 10 Omicron XBB.1.5-SDYY2-18D-19/10/2026]>>\nkwargs = {'address': '32 HOLLAND ROAD, MANCHESTER, M8 4NP', 'dob': '27/3/1957', 'name': 'FLORINDA DUNNER', 'shared_data': {'ass...h_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination centre open to the public', ...}}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n.tox/py311/lib/python3.11/site-packages/_pytest/fixtures.py:897: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nshared_data = {'assessment_comments': 'Assessment comments 27/08/2024FLORINDA DUNNER', 'batch_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination centre open to the public', ...}\nname = 'FLORINDA DUNNER', dob = '27/3/1957'\naddress = '32 HOLLAND ROAD, MANCHESTER, M8 4NP'\n\n    @then(parse(\"I need to be able to see the patient {name}, {dob}, {address} and vaccination details on the check and confirm screen\"))\n    def step_see_patient_details_on_check_and_confirm_screen(shared_data, name, dob, address):\n        if shared_data[\"vaccinated_decision\"].lower() == \"Yes\".lower() and shared_data[\"consent_decision\"].lower() == \"Yes\".lower() and shared_data[\"eligibility_assessment_outcome\"].lower() == \"Give vaccine\".lower():\n            attach_screenshot(\"check_and_confirm_screen_before_assertion\")\n>           assert get_patient_name_value() == shared_data[\"patient_name\"]\nE           AssertionError: assert None == 'FLORINDA DUNNER'\nE            +  where None = get_patient_name_value()\n\ntests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py:123: AssertionError",
    "steps" : [ {
      "name" : "Given I login to RAVS and set vaccinator details with BIRCH HOUSE and Vaccination Centre and get patient details for 9437541817 with option 11 and choose to vaccinate with vaccine details as COVID-19, Comirnaty 10 Omicron XBB.1.5, SDYY2-18D with 19/10/2026",
      "time" : {
        "start" : 1725010184294,
        "stop" : 1725010889018,
        "duration" : 704724
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false,
      "hasContent" : false
    }, {
      "name" : "And I search for a patient with the NHS number in the find a patient screen",
      "time" : {
        "start" : 1725010889018,
        "stop" : 1725010979877,
        "duration" : 90859
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "7321423273f26b69",
        "name" : "dev_chrome_128.0.6613.113_entered_nhs_number_as9437541817_and_clicked_search_for_patient_button.png",
        "source" : "7321423273f26b69.png",
        "type" : "image/png",
        "size" : 80295
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I open the patient record by clicking on patient FLORINDA DUNNER",
      "time" : {
        "start" : 1725010979877,
        "stop" : 1725011010229,
        "duration" : 30352
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "9b4dd5025735d4a9",
        "name" : "dev_chrome_128.0.6613.113_before_clicking_patient_name.png",
        "source" : "9b4dd5025735d4a9.png",
        "type" : "image/png",
        "size" : 80295
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "When I click choose vaccine button and choose the COVID-19, Comirnaty 10 Omicron XBB.1.5, SDYY2-18D with 19/10/2026 and click continue",
      "time" : {
        "start" : 1725011010229,
        "stop" : 1725011166614,
        "duration" : 156385
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "5f5d6bda4f89f77",
        "name" : "dev_chrome_128.0.6613.113_clicked_on_patient_FLORINDA DUNNER_and_clicked_choose_vaccine_button.png",
        "source" : "5f5d6bda4f89f77.png",
        "type" : "image/png",
        "size" : 79926
      }, {
        "uid" : "cb2a5884c9674f72",
        "name" : "dev_chrome_128.0.6613.113_selected_vaccine_COVID-19_and_Comirnaty 10 Omicron XBB.1.5_and_clicked_continue_button.png",
        "source" : "cb2a5884c9674f72.png",
        "type" : "image/png",
        "size" : 43251
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I assess the patient's yes with the details and date as today-3 and click continue to record consent screen button",
      "time" : {
        "start" : 1725011166615,
        "stop" : 1725011438905,
        "duration" : 272290
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "9ca8dfa72b933d9c",
        "name" : "dev_chrome_128.0.6613.113_clicked_eligibility_yes_and_selected_eligibility_type.png",
        "source" : "9ca8dfa72b933d9c.png",
        "type" : "image/png",
        "size" : 43251
      }, {
        "uid" : "982d437e17e2fa69",
        "name" : "dev_chrome_128.0.6613.113_clicked_patient_give_vaccine_radio_button.png",
        "source" : "982d437e17e2fa69.png",
        "type" : "image/png",
        "size" : 43251
      }, {
        "uid" : "dccbb729d8009ca",
        "name" : "dev_chrome_128.0.6613.113_clicked_continue_to_record_consent_button.png",
        "source" : "dccbb729d8009ca.png",
        "type" : "image/png",
        "size" : 43251
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 3,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I record yes with the details and click continue to vaccinate button",
      "time" : {
        "start" : 1725011438906,
        "stop" : 1725011559797,
        "duration" : 120891
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "824183c05a8ea7bf",
        "name" : "dev_chrome_128.0.6613.113_before_selecting_consent_clinician.png",
        "source" : "824183c05a8ea7bf.png",
        "type" : "image/png",
        "size" : 43251
      }, {
        "uid" : "49437e761d19bb69",
        "name" : "dev_chrome_128.0.6613.113_clicked_continue_to_vaccinate_button.png",
        "source" : "49437e761d19bb69.png",
        "type" : "image/png",
        "size" : 43251
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 2,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I record yes details and date as today-1 and click Continue to Check and confirm screen",
      "time" : {
        "start" : 1725011559798,
        "stop" : 1725011927320,
        "duration" : 367522
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "ca9b0a1436a7223e",
        "name" : "dev_chrome_128.0.6613.113_entered_vaccination_details.png",
        "source" : "ca9b0a1436a7223e.png",
        "type" : "image/png",
        "size" : 43251
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "Then I need to be able to see the patient FLORINDA DUNNER, 27/3/1957, 32 HOLLAND ROAD, MANCHESTER, M8 4NP and vaccination details on the check and confirm screen",
      "time" : {
        "start" : 1725011927321,
        "stop" : 1725011957666,
        "duration" : 30345
      },
      "status" : "failed",
      "statusMessage" : "assert None == 'FLORINDA DUNNER'\n +  where None = get_patient_name_value()",
      "statusTrace" : "AssertionError: assert None == 'FLORINDA DUNNER'\n +  where None = get_patient_name_value()\n",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "8b61a997a16cccaf",
        "name" : "dev_chrome_128.0.6613.113_check_and_confirm_screen_before_assertion.png",
        "source" : "8b61a997a16cccaf.png",
        "type" : "image/png",
        "size" : 43251
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 8,
    "attachmentsCount" : 11,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "host",
    "value" : "c3fcb1d684a3"
  }, {
    "name" : "thread",
    "value" : "1066-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest-bdd"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "feature",
    "value" : "Record vaccine"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "address",
    "value" : "32 HOLLAND ROAD, MANCHESTER, M8 4NP"
  }, {
    "name" : "assess_date",
    "value" : "today-3"
  }, {
    "name" : "batch_expiry_date",
    "value" : "19/10/2026"
  }, {
    "name" : "batch_number",
    "value" : "SDYY2-18D"
  }, {
    "name" : "care_model",
    "value" : "Vaccination Centre"
  }, {
    "name" : "chosen_vaccine",
    "value" : "COVID-19"
  }, {
    "name" : "consent",
    "value" : "yes"
  }, {
    "name" : "dob",
    "value" : "27/3/1957"
  }, {
    "name" : "eligibility",
    "value" : "yes"
  }, {
    "name" : "index",
    "value" : "11"
  }, {
    "name" : "name",
    "value" : "FLORINDA DUNNER"
  }, {
    "name" : "nhs_number",
    "value" : "9437541817"
  }, {
    "name" : "site",
    "value" : "BIRCH HOUSE"
  }, {
    "name" : "vaccination",
    "value" : "yes"
  }, {
    "name" : "vaccination_date",
    "value" : "today-1"
  }, {
    "name" : "vaccine_type",
    "value" : "Comirnaty 10 Omicron XBB.1.5"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ ]
  },
  "source" : "c76ae9890c53173c.json",
  "parameterValues" : [ "32 HOLLAND ROAD, MANCHESTER, M8 4NP", "today-3", "19/10/2026", "SDYY2-18D", "Vaccination Centre", "COVID-19", "yes", "27/3/1957", "yes", "11", "FLORINDA DUNNER", "9437541817", "BIRCH HOUSE", "yes", "today-1", "Comirnaty 10 Omicron XBB.1.5" ]
}