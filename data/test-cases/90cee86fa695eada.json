{
  "uid" : "90cee86fa695eada",
  "name" : "Record a vaccine with nhs number [11-9437541817-ALBERT HOUSE-Vaccination Centre-yes-today-3-yes-yes-today-1-FLORINDA DUNNER-27/3/1957-32 HOLLAND ROAD, MANCHESTER, M8 4NP-COVID-19-Comirnaty 10 Omicron XBB.1.5-SDYY2-18D-19/10/2026]",
  "fullName" : "/app/features/record_a_vaccine_for_patient_with_nhs_number.feature:Record a vaccine with nhs number",
  "historyId" : "e499c31239543da7bc0d0e734f084cf3",
  "time" : {
    "start" : 1723827178806,
    "stop" : 1723827215855,
    "duration" : 37049
  },
  "status" : "failed",
  "statusMessage" : "TypeError: choose_vaccine_and_vaccine_type_for_patient() missing 1 required positional argument: 'vaccine_type'",
  "statusTrace" : "fixturefunc = <function step_choose_vaccine_and_vaccine_type at 0x7fd094d82700>\nrequest = <FixtureRequest for <Function test_record_a_vaccine_with_nhs_number[11-9437541817-ALBERT HOUSE-Vaccination Centre-yes-...INDA DUNNER-27/3/1957-32 HOLLAND ROAD, MANCHESTER, M8 4NP-COVID-19-Comirnaty 10 Omicron XBB.1.5-SDYY2-18D-19/10/2026]>>\nkwargs = {'batch_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'chosen_vaccine': 'COVID-19', 'shared_data': {'batch_...'19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination Centre', 'chosen_vaccine': 'COVID-19', ...}, ...}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n.tox/py311/lib/python3.11/site-packages/_pytest/fixtures.py:897: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nshared_data = {'batch_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination Centre', 'chosen_vaccine': 'COVID-19', ...}\nchosen_vaccine = 'COVID-19', vaccine_type = 'Comirnaty 10 Omicron XBB.1.5'\nbatch_number = 'SDYY2-18D', batch_expiry_date = '19/10/2026'\n\n    @when(parse(\"I click choose vaccine button and choose the {chosen_vaccine}, {vaccine_type}, {batch_number} with {batch_expiry_date} and click continue\"))\n    def step_choose_vaccine_and_vaccine_type(shared_data, chosen_vaccine, vaccine_type, batch_number, batch_expiry_date):\n        immunisation_history_records_count_before_vaccination = click_on_patient_search_result_and_click_choose_vaccine(shared_data['patient_name'], chosen_vaccine)\n        shared_data[\"immunisation_history_records_count_before_vaccination\"] = immunisation_history_records_count_before_vaccination\n>       choose_vaccine_and_vaccine_type_for_patient(chosen_vaccine, vaccine_type)\nE       TypeError: choose_vaccine_and_vaccine_type_for_patient() missing 1 required positional argument: 'vaccine_type'\n\ntests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py:73: TypeError",
  "flaky" : false,
  "newFailed" : false,
  "newBroken" : false,
  "newPassed" : false,
  "retriesCount" : 0,
  "retriesStatusChange" : false,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "TypeError: choose_vaccine_and_vaccine_type_for_patient() missing 1 required positional argument: 'vaccine_type'",
    "statusTrace" : "fixturefunc = <function step_choose_vaccine_and_vaccine_type at 0x7fd094d82700>\nrequest = <FixtureRequest for <Function test_record_a_vaccine_with_nhs_number[11-9437541817-ALBERT HOUSE-Vaccination Centre-yes-...INDA DUNNER-27/3/1957-32 HOLLAND ROAD, MANCHESTER, M8 4NP-COVID-19-Comirnaty 10 Omicron XBB.1.5-SDYY2-18D-19/10/2026]>>\nkwargs = {'batch_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'chosen_vaccine': 'COVID-19', 'shared_data': {'batch_...'19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination Centre', 'chosen_vaccine': 'COVID-19', ...}, ...}\n\n    def call_fixture_func(\n        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs\n    ) -> FixtureValue:\n        if is_generator(fixturefunc):\n            fixturefunc = cast(\n                Callable[..., Generator[FixtureValue, None, None]], fixturefunc\n            )\n            generator = fixturefunc(**kwargs)\n            try:\n                fixture_result = next(generator)\n            except StopIteration:\n                raise ValueError(f\"{request.fixturename} did not yield a value\") from None\n            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)\n            request.addfinalizer(finalizer)\n        else:\n            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)\n>           fixture_result = fixturefunc(**kwargs)\n\n.tox/py311/lib/python3.11/site-packages/_pytest/fixtures.py:897: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nshared_data = {'batch_expiry_date': '19/10/2026', 'batch_number': 'SDYY2-18D', 'care_model': 'Vaccination Centre', 'chosen_vaccine': 'COVID-19', ...}\nchosen_vaccine = 'COVID-19', vaccine_type = 'Comirnaty 10 Omicron XBB.1.5'\nbatch_number = 'SDYY2-18D', batch_expiry_date = '19/10/2026'\n\n    @when(parse(\"I click choose vaccine button and choose the {chosen_vaccine}, {vaccine_type}, {batch_number} with {batch_expiry_date} and click continue\"))\n    def step_choose_vaccine_and_vaccine_type(shared_data, chosen_vaccine, vaccine_type, batch_number, batch_expiry_date):\n        immunisation_history_records_count_before_vaccination = click_on_patient_search_result_and_click_choose_vaccine(shared_data['patient_name'], chosen_vaccine)\n        shared_data[\"immunisation_history_records_count_before_vaccination\"] = immunisation_history_records_count_before_vaccination\n>       choose_vaccine_and_vaccine_type_for_patient(chosen_vaccine, vaccine_type)\nE       TypeError: choose_vaccine_and_vaccine_type_for_patient() missing 1 required positional argument: 'vaccine_type'\n\ntests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py:73: TypeError",
    "steps" : [ {
      "name" : "Given I login to RAVS and set vaccinator details with ALBERT HOUSE and Vaccination Centre and get patient details for 9437541817 with option 11 and choose to vaccinate with vaccine details as COVID-19, Comirnaty 10 Omicron XBB.1.5, SDYY2-18D with 19/10/2026",
      "time" : {
        "start" : 1723827178806,
        "stop" : 1723827208688,
        "duration" : 29882
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "9dc173ce4e6fed8a",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_settings.png",
        "source" : "9dc173ce4e6fed8a.png",
        "type" : "image/png",
        "size" : 36740
      }, {
        "uid" : "6fa373b9864485ee",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_vaccines.png",
        "source" : "6fa373b9864485ee.png",
        "type" : "image/png",
        "size" : 37656
      }, {
        "uid" : "4d4baecbca85ce5c",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_add_vaccines.png",
        "source" : "4d4baecbca85ce5c.png",
        "type" : "image/png",
        "size" : 127948
      }, {
        "uid" : "4ef674cd39db6c4a",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_site_radio_button.png",
        "source" : "4ef674cd39db6c4a.png",
        "type" : "image/png",
        "size" : 73798
      }, {
        "uid" : "f0e0f1eb8fd3c2df",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_covid_vaccine_checkbox.png",
        "source" : "f0e0f1eb8fd3c2df.png",
        "type" : "image/png",
        "size" : 84685
      }, {
        "uid" : "74f73e7468aa1509",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_covid_vaccinetype_checkbox.png",
        "source" : "74f73e7468aa1509.png",
        "type" : "image/png",
        "size" : 110095
      }, {
        "uid" : "6ac72a73563e2e1a",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_add_vaccine_button.png",
        "source" : "6ac72a73563e2e1a.png",
        "type" : "image/png",
        "size" : 110406
      }, {
        "uid" : "2ae2965a018fc53e",
        "name" : "dev_chrome_127.0.6533.119_entered_batch_number.png",
        "source" : "2ae2965a018fc53e.png",
        "type" : "image/png",
        "size" : 105222
      }, {
        "uid" : "b0a3d72a01c50781",
        "name" : "dev_chrome_127.0.6533.119_entered_expiry_date.png",
        "source" : "b0a3d72a01c50781.png",
        "type" : "image/png",
        "size" : 105912
      }, {
        "uid" : "c80dd7571f39d158",
        "name" : "dev_chrome_127.0.6533.119_clicked_add_batch_button.png",
        "source" : "c80dd7571f39d158.png",
        "type" : "image/png",
        "size" : 92031
      }, {
        "uid" : "f93ca71291947e56",
        "name" : "dev_chrome_127.0.6533.119_clicked_confirm_choices_button.png",
        "source" : "f93ca71291947e56.png",
        "type" : "image/png",
        "size" : 68633
      }, {
        "uid" : "b672552b9bd2b3d4",
        "name" : "dev_chrome_127.0.6533.119_clicked_confirm_choices_button.png",
        "source" : "b672552b9bd2b3d4.png",
        "type" : "image/png",
        "size" : 68674
      }, {
        "uid" : "e893b19b6ec8050d",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_settings.png",
        "source" : "e893b19b6ec8050d.png",
        "type" : "image/png",
        "size" : 59498
      }, {
        "uid" : "58555979808e84ef",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_vaccines.png",
        "source" : "58555979808e84ef.png",
        "type" : "image/png",
        "size" : 38521
      }, {
        "uid" : "fe42de6049ed51ac",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_add_vaccines.png",
        "source" : "fe42de6049ed51ac.png",
        "type" : "image/png",
        "size" : 127948
      }, {
        "uid" : "7bc73adb4c1c9511",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_site_radio_button.png",
        "source" : "7bc73adb4c1c9511.png",
        "type" : "image/png",
        "size" : 73798
      }, {
        "uid" : "e4587ac2b91a5c95",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_covid_vaccine_checkbox.png",
        "source" : "e4587ac2b91a5c95.png",
        "type" : "image/png",
        "size" : 84685
      }, {
        "uid" : "a3f4c277e0d59548",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_covid_vaccinetype_checkbox.png",
        "source" : "a3f4c277e0d59548.png",
        "type" : "image/png",
        "size" : 110095
      }, {
        "uid" : "b87407ed0cf99e63",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_add_vaccine_button.png",
        "source" : "b87407ed0cf99e63.png",
        "type" : "image/png",
        "size" : 110391
      }, {
        "uid" : "3138d1f974fbb6e7",
        "name" : "dev_chrome_127.0.6533.119_entered_batch_number.png",
        "source" : "3138d1f974fbb6e7.png",
        "type" : "image/png",
        "size" : 105632
      }, {
        "uid" : "32c113dc1eee2023",
        "name" : "dev_chrome_127.0.6533.119_entered_expiry_date.png",
        "source" : "32c113dc1eee2023.png",
        "type" : "image/png",
        "size" : 106315
      }, {
        "uid" : "898443bd837f4b87",
        "name" : "dev_chrome_127.0.6533.119_clicked_add_batch_button.png",
        "source" : "898443bd837f4b87.png",
        "type" : "image/png",
        "size" : 90943
      }, {
        "uid" : "6626ad8d64eafb53",
        "name" : "dev_chrome_127.0.6533.119_clicked_confirm_choices_button.png",
        "source" : "6626ad8d64eafb53.png",
        "type" : "image/png",
        "size" : 67611
      }, {
        "uid" : "492fe48fa007b92e",
        "name" : "dev_chrome_127.0.6533.119_clicked_confirm_choices_button.png",
        "source" : "492fe48fa007b92e.png",
        "type" : "image/png",
        "size" : 82469
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 24,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I search for a patient with the NHS number in the find a patient screen",
      "time" : {
        "start" : 1723827208688,
        "stop" : 1723827209754,
        "duration" : 1066
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "3fd45c560ed8c57d",
        "name" : "dev_chrome_127.0.6533.119_entered_nhs_number_as9437541817_and_clicked_search_for_patient_button.png",
        "source" : "3fd45c560ed8c57d.png",
        "type" : "image/png",
        "size" : 60504
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "And I open the patient record by clicking on patient FLORINDA DUNNER",
      "time" : {
        "start" : 1723827209755,
        "stop" : 1723827210202,
        "duration" : 447
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "d141ba25f4e014ab",
        "name" : "dev_chrome_127.0.6533.119_before_clicking_patient_name.png",
        "source" : "d141ba25f4e014ab.png",
        "type" : "image/png",
        "size" : 75247
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : false,
      "hasContent" : true
    }, {
      "name" : "When I click choose vaccine button and choose the COVID-19, Comirnaty 10 Omicron XBB.1.5, SDYY2-18D with 19/10/2026 and click continue",
      "time" : {
        "start" : 1723827210202,
        "stop" : 1723827215855,
        "duration" : 5653
      },
      "status" : "failed",
      "statusMessage" : "choose_vaccine_and_vaccine_type_for_patient() missing 1 required positional argument: 'vaccine_type'",
      "statusTrace" : "TypeError: choose_vaccine_and_vaccine_type_for_patient() missing 1 required positional argument: 'vaccine_type'\n",
      "steps" : [ ],
      "attachments" : [ {
        "uid" : "63aac37506429ac8",
        "name" : "dev_chrome_127.0.6533.119_clicked_on_patient_FLORINDA DUNNER_and_clicked_choose_vaccine_button.png",
        "source" : "63aac37506429ac8.png",
        "type" : "image/png",
        "size" : 103104
      } ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "attachmentsCount" : 1,
      "shouldDisplayMessage" : true,
      "hasContent" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 4,
    "attachmentsCount" : 27,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "host",
    "value" : "6d4a09583807"
  }, {
    "name" : "thread",
    "value" : "1064-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest-bdd"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "feature",
    "value" : "Record vaccine"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "address",
    "value" : "32 HOLLAND ROAD, MANCHESTER, M8 4NP"
  }, {
    "name" : "assess_date",
    "value" : "today-3"
  }, {
    "name" : "batch_expiry_date",
    "value" : "19/10/2026"
  }, {
    "name" : "batch_number",
    "value" : "SDYY2-18D"
  }, {
    "name" : "care_model",
    "value" : "Vaccination Centre"
  }, {
    "name" : "chosen_vaccine",
    "value" : "COVID-19"
  }, {
    "name" : "consent",
    "value" : "yes"
  }, {
    "name" : "dob",
    "value" : "27/3/1957"
  }, {
    "name" : "eligibility",
    "value" : "yes"
  }, {
    "name" : "index",
    "value" : "11"
  }, {
    "name" : "name",
    "value" : "FLORINDA DUNNER"
  }, {
    "name" : "nhs_number",
    "value" : "9437541817"
  }, {
    "name" : "site",
    "value" : "ALBERT HOUSE"
  }, {
    "name" : "vaccination",
    "value" : "yes"
  }, {
    "name" : "vaccination_date",
    "value" : "today-1"
  }, {
    "name" : "vaccine_type",
    "value" : "Comirnaty 10 Omicron XBB.1.5"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ ]
  },
  "source" : "90cee86fa695eada.json",
  "parameterValues" : [ "32 HOLLAND ROAD, MANCHESTER, M8 4NP", "today-3", "19/10/2026", "SDYY2-18D", "Vaccination Centre", "COVID-19", "yes", "27/3/1957", "yes", "11", "FLORINDA DUNNER", "9437541817", "ALBERT HOUSE", "yes", "today-1", "Comirnaty 10 Omicron XBB.1.5" ]
}