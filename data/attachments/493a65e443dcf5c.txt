INFO     root:conftest.py:48 EDGE browser version is : 131.0.2903.51
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_given_I login to RAVS and set vaccinator details with BECCLES HOUSE and Outreach event and get patient details for 9473629885 with option 4 and choose to vaccinate with vaccine details as Respiratory syncytial virus (RSV), AREX2-15A with 19/10/2026': [<FixtureDef argname='pytestbdd_stepdef_given_I login to RAVS and set vaccinator details with {site} and {care_model} and get patient details for {nhs_number} with option {index} and choose to vaccinate with vaccine details as {chosen_vaccine}, {batch_number} with {batch_expiry_date}' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_given_I search for a patient with the NHS number in the find a patient screen': [<FixtureDef argname='pytestbdd_stepdef_given_I search for a patient with the NHS number in the find a patient screen' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_entered_nhs_number_as9473629885_and_clicked_search_for_patient_button.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_entered_nhs_number_as9473629885_and_clicked_search_for_patient_button.png
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_given_I open the patient record by clicking on patient MARGIE PUCKEY': [<FixtureDef argname='pytestbdd_stepdef_given_I open the patient record by clicking on patient {name}' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_before_clicking_patient_name.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_before_clicking_patient_name.png
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_before_clicking_patient_name.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_before_clicking_patient_name.png
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_when_I click choose vaccine button and choose the Respiratory syncytial virus (RSV), AREX2-15A with 19/10/2026 and click continue': [<FixtureDef argname='pytestbdd_stepdef_when_I click choose vaccine button and choose the {chosen_vaccine}, {batch_number} with {batch_expiry_date} and click continue' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_clicked_on_patient_MARGIE PUCKEY_and_clicked_choose_vaccine_button.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_clicked_on_patient_MARGIE PUCKEY_and_clicked_choose_vaccine_button.png
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_selected_vaccine_Respiratory syncytial virus (RSV)_and_Abrysvo_and_clicked_continue_button.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_selected_vaccine_Respiratory syncytial virus (RSV)_and_Abrysvo_and_clicked_continue_button.png
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture "pytestbdd_stepimpl_when_I assess the pregnant patient's yes with the details of due date as today+50 and assessment date as today-4 and click continue to record consent screen button": [<FixtureDef argname="pytestbdd_stepdef_when_I assess the pregnant patient's {eligibility} with the details of due date as {due_date} and assessment date as {assess_date} and click continue to record consent screen button" scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_clicked_eligibility_yes_and_selected_eligibility_type.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_clicked_eligibility_yes_and_selected_eligibility_type.png
DEBUG    root:conftest.py:276 Assess clinician to select is: Automated Recorder - neelima.guntupalli1+recorder_automated@nhs.net
DEBUG    root:conftest.py:277 Assess legal mechanism is: National Protocol (NP)
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_clicked_patient_give_vaccine_radio_button.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_clicked_patient_give_vaccine_radio_button.png
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_clicked_continue_to_record_consent_button.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_clicked_continue_to_record_consent_button.png
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_when_I record yes with the details and click continue to vaccinate button': [<FixtureDef argname='pytestbdd_stepdef_when_I record {consent} with the details and click continue to vaccinate button' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_before_selecting_consent_clinician.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_before_selecting_consent_clinician.png
DEBUG    root:conftest.py:299 Consent clinician to select is: Automated Recorder - neelima.guntupalli1+recorder_automated@nhs.net
DEBUG    root:conftest.py:300 Consent legal mechanism is: National Protocol (NP)
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_clicked_continue_to_vaccinate_button.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_clicked_continue_to_vaccinate_button.png
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_when_I record yes details and date as today-3 and click Continue to Check and confirm screen': [<FixtureDef argname='pytestbdd_stepdef_when_I record {vaccination} details and date as {vaccination_date} and click Continue to Check and confirm screen' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:conftest.py:333 Vaccination legal mechanism is: National Protocol (NP)
DEBUG    root:conftest.py:334 Vaccinator to select is: Automated Recorder - neelima.guntupalli1+recorder_automated@nhs.net
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_entered_vaccination_details.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_entered_vaccination_details.png
INFO     root:test_record_a_vaccine_for_patient_with_nhs_number_steps.py:140 {'nhs_number': '9473629885', 'index': '4', 'chosen_vaccine': 'Respiratory syncytial virus (RSV)', 'chosen_vaccine_type': 'Abrysvo', 'batch_number': 'AREX2-15A', 'site': 'BECCLES HOUSE', 'care_model': "Housebound patient's home", 'batch_expiry_date': '19/10/2026', 'patient_name': 'MARGIE PUCKEY', 'immunisation_history_records_count_before_vaccination': 6, 'eligible_decision': 'yes', 'legal_mechanism': 'National Protocol (NP)', 'eligibility_type': 'Pregnancy', 'healthcare_worker': 'Non clinical', 'eligibility_assessing_clinician': 'Automated Recorder - neelima.guntupalli1+recorder_automated@nhs.net', 'eligibility_due_date': '06/01/2025', 'eligibility_assessment_date': '13/11/2024', 'eligibility_assessment_outcome': 'Give vaccine', 'eligibility_assessment_no_vaccine_given_reason': 'Patient declined', 'assessment_comments': 'Assessment comments 13/11/2024MARGIE PUCKEY', 'consent_decision': 'yes', 'consent_given_by': "Clinician following the Mental Capacity Act (in the patient's best interests)", 'consent_clinician_details': 'Automated Recorder - neelima.guntupalli1+recorder_automated@nhs.net', 'no_consent_reason': 'Having elsewhere / Had Vaccination', 'vaccinated_decision': 'yes', 'vaccination_date': '14/11/2024', 'vaccination_site': 'Left thigh', 'dose_amount': '0.5', 'vaccinator': 'Automated Recorder - neelima.guntupalli1+recorder_automated@nhs.net', 'vaccination_comments': 'Abrysvovaccination given on 14/11/2024 for MARGIE PUCKEY', 'no_vaccination_reason': 'Patient declined'}
DEBUG    pytest_bdd.scenario:scenario.py:146 Adding providers for fixture 'pytestbdd_stepimpl_then_I need to be able to see the patient MARGIE PUCKEY, 27/5/1924, MANSART COURT, 10 OLIVE SHAPLEY AVENUE, MANCHESTER, M20 6QB and vaccination details on the check and confirm screen': [<FixtureDef argname='pytestbdd_stepdef_then_I need to be able to see the patient {name}, {dob}, {address} and vaccination details on the check and confirm screen' scope='function' baseid='tests/test_record_a_vaccine_for_patient_with_nhs_number_steps.py'>]
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_check_and_confirm_screen_before_assertion.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_check_and_confirm_screen_before_assertion.png
DEBUG    root:init_helpers.py:102 Directory verified: /app/data/attachments
DEBUG    root:init_helpers.py:108 Saving screenshot to: /app/data/attachments/dev_edge_131.0.2903.51_vaccination_dose_amount.png
DEBUG    root:playwrightHelper.py:89 Scrolling to the top of the page.
DEBUG    root:init_helpers.py:114 Screenshot attached at: /app/data/attachments/dev_edge_131.0.2903.51_vaccination_dose_amount.png